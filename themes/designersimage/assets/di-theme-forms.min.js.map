{"version":3,"file":"di-theme-forms.min.js","sources":["di-theme-forms.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _contact = _interopRequireDefault(require(\"./modules/frontend/contact\"));\n\nvar _testimonial = _interopRequireDefault(require(\"./modules/frontend/testimonial\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\r\n *  @package diTheme\r\n*/\nready(function (event) {\n  // Load Contact Form JS\n  var contact = document.querySelector('#di-contact-form');\n\n  if (contact) {\n    contact.addEventListener('submit', function (e) {\n      (0, _contact[\"default\"])(e, contact);\n    });\n  } // Load Testimonial Form JS\n\n\n  var testimonial = document.querySelector('#di-testimonial-form');\n\n  if (testimonial) {\n    testimonial.addEventListener('submit', function (e) {\n      (0, _testimonial[\"default\"])(e, testimonial);\n    });\n  }\n});\n/*\r\n    ##################################################\r\n    |   DOCUMENT READY FUNCTION                      |\r\n    ##################################################\r\n*/\n\nfunction ready(callbackFunction) {\n  if (document.readyState != 'loading') {\n    callbackFunction(event);\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", callbackFunction);\n  }\n}\n\n},{\"./modules/frontend/contact\":2,\"./modules/frontend/testimonial\":3}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\r\n *  @package diTheme\r\n*/\n\n/*\r\n    ##################################################\r\n    |   CONTACT FORM                                 |\r\n    ##################################################\r\n*/\nvar contactForm = function contactForm(e, _contactForm) {\n  e.preventDefault(); // reset the form messages\n\n  resetMessages(); // collect all the data\n\n  var formData = {\n    subject: _contactForm.querySelector('[name=\"subject\"]').value,\n    name: _contactForm.querySelector('[name=\"name\"]').value,\n    company: _contactForm.querySelector('[name=\"company\"]').value,\n    email: _contactForm.querySelector('[name=\"email\"]').value,\n    phone: _contactForm.querySelector('[name=\"phone\"]').value,\n    message: _contactForm.querySelector('[name=\"message\"]').value,\n    nonce: _contactForm.querySelector('[name=\"nonce\"]').value\n  }; // validate the form fields\n\n  if (!formData.subject) {\n    _contactForm.querySelector('[data-error=\"subject\"]').classList.add('show');\n\n    return;\n  }\n\n  if (!formData.name) {\n    _contactForm.querySelector('[data-error=\"name\"]').classList.add('show');\n\n    return;\n  }\n\n  if (!validateEmail(formData.email)) {\n    _contactForm.querySelector('[data-error=\"email\"]').classList.add('show');\n\n    return;\n  }\n\n  if (!formData.phone) {\n    _contactForm.querySelector('[data-error=\"phone\"]').classList.add('show');\n\n    return;\n  }\n\n  if (!formData.message) {\n    _contactForm.querySelector('[data-error=\"message\"]').classList.add('show');\n\n    return;\n  } // ajax http post request\n\n\n  var url = _contactForm.dataset.url;\n  var params = new URLSearchParams(new FormData(_contactForm));\n  var fetchData = {\n    method: \"POST\",\n    body: params\n  };\n\n  _contactForm.querySelector('.js-form-submission').classList.add('show');\n\n  fetch(url, fetchData).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    resetMessages();\n\n    _contactForm.querySelector('.js-form-error').classList.add('show');\n  }).then(function (response) {\n    resetMessages(); // deal with the response\n\n    if (response === 0 || response.status === 'error') {\n      _contactForm.querySelector('.js-form-error').classList.add('show');\n\n      return;\n    }\n\n    _contactForm.querySelector('.js-form-success').classList.add('show');\n\n    _contactForm.reset();\n  });\n};\n/*\r\n    ##################################################\r\n    |   RESET FORM ERROR MESSAGES FUNCTION           |\r\n    ##################################################\r\n*/\n\n\nfunction resetMessages() {\n  document.querySelectorAll('.field-msg').forEach(function (field) {\n    return field.classList.remove('show');\n  });\n}\n/*\r\n    ##################################################\r\n    |   VALIDATE EMAIL ADDRESS FUNCTION              |\r\n    ##################################################\r\n*/\n\n\nfunction validateEmail(email) {\n  var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return regex.test(String(email).toLowerCase());\n}\n\nvar _default = contactForm;\nexports[\"default\"] = _default;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\r\n *  @package diTheme\r\n*/\n\n/*\r\n    ##################################################\r\n    |   TESTIMONIAL FORM                             |\r\n    ##################################################\r\n*/\nvar testimonialForm = function testimonialForm(e, _testimonialForm) {\n  e.preventDefault(); // reset the form messages\n\n  resetMessages(); // collect all the data\n\n  var formData = {\n    name: _testimonialForm.querySelector('[name=\"name\"]').value,\n    email: _testimonialForm.querySelector('[name=\"email\"]').value,\n    message: _testimonialForm.querySelector('[name=\"message\"]').value,\n    nonce: _testimonialForm.querySelector('[name=\"nonce\"]').value\n  }; // validate the form fields\n\n  if (!formData.name) {\n    _testimonialForm.querySelector('[data-error=\"name\"]').classList.add('show');\n\n    return;\n  }\n\n  if (!validateEmail(formData.email)) {\n    _testimonialForm.querySelector('[data-error=\"email\"]').classList.add('show');\n\n    return;\n  }\n\n  if (!formData.message) {\n    _testimonialForm.querySelector('[data-error=\"message\"]').classList.add('show');\n\n    return;\n  } // ajax http post request\n\n\n  var url = _testimonialForm.dataset.url;\n  var params = new URLSearchParams(new FormData(_testimonialForm));\n  var fetchData = {\n    method: \"POST\",\n    body: params\n  };\n\n  _testimonialForm.querySelector('.js-form-submission').classList.add('show');\n\n  fetch(url, fetchData).then(function (res) {\n    return res.json();\n  })[\"catch\"](function (error) {\n    resetMessages();\n\n    _testimonialForm.querySelector('.js-form-error').classList.add('show');\n  }).then(function (response) {\n    resetMessages(); // deal with the response\n\n    if (response === 0 || response.status === 'error') {\n      _testimonialForm.querySelector('.js-form-error').classList.add('show');\n\n      return;\n    }\n\n    _testimonialForm.querySelector('.js-form-success').classList.add('show');\n\n    _testimonialForm.reset();\n  });\n};\n/*\r\n    ##################################################\r\n    |   RESET FORM ERROR MESSAGES FUNCTION           |\r\n    ##################################################\r\n*/\n\n\nfunction resetMessages() {\n  document.querySelectorAll('.field-msg').forEach(function (field) {\n    return field.classList.remove('show');\n  });\n}\n/*\r\n    ##################################################\r\n    |   VALIDATE EMAIL ADDRESS FUNCTION              |\r\n    ##################################################\r\n*/\n\n\nfunction validateEmail(email) {\n  var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return regex.test(String(email).toLowerCase());\n}\n\nvar _default = testimonialForm;\nexports[\"default\"] = _default;\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","callbackFunction","_contact","_interopRequireDefault","_testimonial","obj","__esModule","default","event","contact","document","querySelector","addEventListener","testimonial","readyState","./modules/frontend/contact","./modules/frontend/testimonial","2","Object","defineProperty","value","resetMessages","querySelectorAll","forEach","field","classList","remove","_contactForm","preventDefault","formData","subject","name","company","email","phone","message","nonce","test","String","toLowerCase","url","dataset","fetchData","method","body","URLSearchParams","FormData","add","fetch","then","res","json","error","response","status","reset","3","_testimonialForm"],"mappings":"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"}