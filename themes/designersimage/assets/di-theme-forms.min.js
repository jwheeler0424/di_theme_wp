!function o(n,a,s){function l(t,e){if(!a[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=a[t]={exports:{}},n[t][0].call(r.exports,function(e){return l(n[t][1][e]||e)},r,r.exports,o,n,a,s)}return a[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(e,t,r){"use strict";var o,n=s(e("./modules/frontend/contact")),a=s(e("./modules/frontend/testimonial"));function s(e){return e&&e.__esModule?e:{default:e}}o=function(e){document.querySelector("#di-contact-form")&&(0,n.default)();var t=document.querySelector("#di-testimonial-form");t&&t.addEventListener("submit",function(e){(0,a.default)(e,t)})},"loading"!=document.readyState?o(event):document.addEventListener("DOMContentLoaded",o)},{"./modules/frontend/contact":2,"./modules/frontend/testimonial":5}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("./formElements"),n=e("./modal");function a(){document.querySelectorAll("[data-error]").forEach(function(e){return e.classList.remove("error")}),document.querySelector(".js-form-submission").classList.remove("show"),(0,n.closeModal)()}e=function(){var e=document.querySelector("#di-contact-form"),t=document.querySelectorAll("[required]");document.querySelectorAll("[data-custom]").forEach(function(e){new o.Select(e)}),t.forEach(function(e){e.required=!1}),document.querySelectorAll("[data-error]").forEach(function(e){e.addEventListener("click",function(){this.classList.remove("error")})}),e.addEventListener("submit",function(t){t.preventDefault(),t.target.querySelector('button[type="submit"]').disabled=!0,a();var e={subject:t.target.querySelector('[name="subject"]').value,first:t.target.querySelector('[name="first"]').value,last:t.target.querySelector('[name="last"]').value,company:t.target.querySelector('[name="company"]').value,email:t.target.querySelector('[name="email"]').value,phone:t.target.querySelector('[name="phone"]').value,message:t.target.querySelector('[name="message"]').value,nonce:t.target.querySelector('[name="nonce"]').value},r=!1;if(e.subject||(t.target.querySelector('[data-error="subject"]').classList.add("error"),r=!0),e.first||(t.target.querySelector('[data-error="first"]').classList.add("error"),r=!0),e.last||(t.target.querySelector('[data-error="last"]').classList.add("error"),r=!0),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.email).toLowerCase())||(t.target.querySelector('[data-error="email"]').classList.add("error"),r=!0),e.phone||(t.target.querySelector('[data-error="phone"]').classList.add("error"),r=!0),e.message||(t.target.querySelector('[data-error="message"]').classList.add("error"),r=!0),r)return(0,n.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1);e=t.target.dataset.url,r={method:"POST",body:new URLSearchParams(new FormData(t.target))};t.target.querySelector(".js-form-submission").classList.add("show"),fetch(e,r).then(function(e){return e.json()}).catch(function(e){a(),(0,n.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),t.target.querySelector('button[type="submit"]').disabled=!1}).then(function(e){return a(),0===e||"error"===e.status?((0,n.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1)):((0,n.showModal)("success","Success!","Message Successfully submitted, thank you! We will be in contact with you shortly."),t.target.querySelector('button[type="submit"]').disabled=!1,t.target.querySelector(".di-select-container > .di-select-value").innerText="Select a reason...",t.target.querySelector(".di-select-container > .di-select-value").classList.add("placeholder"),void t.target.reset())})})};r.default=e},{"./formElements":3,"./modal":4}],3:[function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Select=void 0;var s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.options=n(e.querySelectorAll("option")).map(function(e){return{value:e.value,label:e.label,selected:e.selected,element:e}}),this.customElement=document.createElement("div"),this.labelElement=document.createElement("span"),this.optionsCustomElement=document.createElement("ul"),function(o){o.customElement.classList.add("di-select-container"),o.customElement.tabIndex=0,o.labelElement.classList.add("di-select-value"),o.labelElement.innerText=o.selectedOption.label,""===o.selectedOption.value&&o.labelElement.classList.add("placeholder");var n;o.customElement.append(o.labelElement),o.optionsCustomElement.classList.add("di-select-options"),o.options.forEach(function(e){var t=document.createElement("li");t.classList.add("di-select-option"),""===e.value&&t.classList.add("hidden"),t.classList.toggle("selected",e.selected),t.innerText=e.label,t.dataset.value=e.value,t.addEventListener("click",function(){o.selectValue(e.value),o.labelElement.classList.remove("placeholder"),o.optionsCustomElement.classList.remove("show")}),o.optionsCustomElement.append(t)}),o.customElement.append(o.optionsCustomElement),o.labelElement.addEventListener("click",function(){o.optionsCustomElement.classList.toggle("show")}),o.customElement.addEventListener("blur",function(){o.optionsCustomElement.classList.remove("show")});var a="";o.customElement.addEventListener("keydown",function(e){switch(e.code){case"Space":o.optionsCustomElement.classList.toggle("show");break;case"ArrowUp":var t=o.options[o.selectedOptionIndex-1];t&&(o.selectValue(t.value),o.labelElement.classList.remove("placeholder"));break;case"ArrowDown":var r=o.options[o.selectedOptionIndex+1];r&&(o.selectValue(r.value),o.labelElement.classList.remove("placeholder"));break;case"Enter":case"Escape":o.optionsCustomElement.classList.remove("show");break;default:clearTimeout(n),a+=e.key,n=setTimeout(function(){a=""},500);r=o.options.find(function(e){return e.label.toLowerCase().startsWith(a)});r&&(o.selectValue(r.value),o.labelElement.classList.remove("placeholder"))}})}(this),e.style.display="none",e.after(this.customElement)}var e,r,o;return e=t,(r=[{key:"selectedOption",get:function(){return this.options.find(function(e){return e.selected})}},{key:"selectedOptionIndex",get:function(){return this.options.indexOf(this.selectedOption)}},{key:"selectValue",value:function(t){var e,r;""!==t&&(r=this.options.find(function(e){return e.value===t}),(e=this.selectedOption).selected=!1,e.element.selected=!1,r.selected=!0,r.element.selected=!0,this.labelElement.innerText=r.label,this.optionsCustomElement.querySelector('[data-value="'.concat(e.value,'"]')).classList.remove("selected"),(r=this.optionsCustomElement.querySelector('[data-value="'.concat(r.value,'"]'))).classList.add("selected"),r.scrollIntoView({block:"nearest"}))}}])&&a(e.prototype,r),o&&a(e,o),t}();r.Select=s},{}],4:[function(e,t,r){"use strict";function n(){var e=document.querySelector(".modal"),t=document.querySelector(".modal-content");e.classList.contains("show")&&e.classList.remove("show"),e.classList.contains("error")&&e.classList.remove("error"),e.classList.contains("success")&&e.classList.remove("success"),e.classList.contains("warning")&&e.classList.remove("warning"),e.querySelector("h3").innerText="",e.querySelector("main").innerText="",t.removeEventListener("keydown",a),t.blur()}function a(e){switch(e.code){case"Enter":return n(),!0;case"Escape":return n(),!1;default:return}}Object.defineProperty(r,"__esModule",{value:!0}),r.closeModal=n,r.modal=function(){var e=document.querySelector(".modal > .modal-content"),t=document.querySelector(".modal > .modal-content > .btn-submit"),r=document.querySelector(".modal > .modal-content > .btn-cancel"),o=document.querySelector(".modal > .modal-content > .close");e.tabIndex=-1,t.addEventListener("click",function(){return n(),!0}),r.addEventListener("click",function(){return n(),!1}),o.addEventListener("click",function(){return n(),!1})},r.showModal=function(e,t,r){var o=document.querySelector(".modal"),n=document.querySelector(".modal-content");o.querySelector("h3").innerText="".concat(t),o.querySelector("main").innerText="".concat(r),o.classList.add("".concat(e)),o.classList.add("show"),n.focus(),n.addEventListener("keydown",a)}},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;function o(){document.querySelectorAll(".field-msg").forEach(function(e){return e.classList.remove("show")})}r.default=function(e,t){e.preventDefault(),o();var r={name:t.querySelector('[name="name"]').value,email:t.querySelector('[name="email"]').value,message:t.querySelector('[name="message"]').value,nonce:t.querySelector('[name="nonce"]').value};r.name?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(r.email).toLowerCase())?r.message?(e=t.dataset.url,r={method:"POST",body:new URLSearchParams(new FormData(t))},t.querySelector(".js-form-submission").classList.add("show"),fetch(e,r).then(function(e){return e.json()}).catch(function(e){o(),t.querySelector(".js-form-error").classList.add("show")}).then(function(e){o(),0!==e&&"error"!==e.status?(t.querySelector(".js-form-success").classList.add("show"),t.reset()):t.querySelector(".js-form-error").classList.add("show")})):t.querySelector('[data-error="message"]').classList.add("show"):t.querySelector('[data-error="email"]').classList.add("show"):t.querySelector('[data-error="name"]').classList.add("show")}},{}]},{},[1]);
//# sourceMappingURL=di-theme-forms.min.js.map
