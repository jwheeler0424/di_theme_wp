!function a(o,n,s){function i(t,e){if(!n[t]){if(!o[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(l)return l(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=n[t]={exports:{}},o[t][0].call(r.exports,function(e){return i(o[t][1][e]||e)},r,r.exports,a,o,n,s)}return n[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)i(s[e]);return i}({1:[function(e,t,r){"use strict";var a,o=i(e("./modules/frontend/contact")),n=i(e("./modules/frontend/testimonial")),s=e("./modules/frontend/auth");function i(e){return e&&e.__esModule?e:{default:e}}a=function(e){document.querySelector("#di-contact-form")&&(0,o.default)(),document.querySelector("#di-login-form")&&(0,s.loginForm)(),document.querySelector("#di-lost-password-form")&&(0,s.lostPasswordForm)(),document.querySelector("#di-register-form")&&(0,s.registerForm)(),document.querySelector("#di-reset-password-form")&&(0,s.resetPasswordForm)(),document.querySelector("#di-testimonial-form")&&(0,n.default)()},"loading"!=document.readyState?a(event):document.addEventListener("DOMContentLoaded",a)},{"./modules/frontend/auth":2,"./modules/frontend/contact":3,"./modules/frontend/testimonial":7}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resetPasswordForm=r.registerForm=r.lostPasswordForm=r.loginForm=void 0;var l=e("./errorMessages");e("./modal");r.loginForm=function(){var e=document.getElementById("di-login-form"),a=document.querySelector(".auth-info"),r=document.querySelector('[name="password"]'),t=document.querySelector("button.visible"),o=new l.Error;e.addEventListener("submit",function(t){t.preventDefault(),n();var e=t.target.querySelector('[name="username"]').value,r=t.target.querySelector('[name="password"]').value;t.target.querySelector('[name="remember"]').value,t.target.querySelector('[name="di_auth"]').value;if(!e||!r)return a.innerHTML=o.getError("empty-combo"),void a.classList.add("error");e=t.target.dataset.url,r=new URLSearchParams(new FormData(t.target));t.target.querySelector('[name="submit"]').innerHTML="Validating...",t.target.querySelector('[name="submit"]').disabled=!0,fetch(e,{method:"POST",body:r}).then(function(e){return e.json()}).catch(function(e){a.innerHTML=o.getError("error")}).then(function(e){if(0===e||"error"===e.status)return n(),e.message.forEach(function(e){a.innerHTML+=o.getError(e)+"\n"}),a.classList.add("error"),void t.target.reset();switch(a.innerHTML=e.message,e.user.roles[0]){case"administrator":window.location=c+"wp-admin/";break;case"client":window.location=c+"client-account/";break;case"member":window.location=c+"member-account/"}})}),t.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("svg.visible"),e=document.querySelector("svg.non-visible");t.classList.toggle("hide"),e.classList.toggle("hide"),t.classList.contains("hide")?r.type="password":r.type="text"})};r.registerForm=function(){var e=document.getElementById("di-register-form"),o=document.querySelector(".auth-info"),n=new l.Error;e.addEventListener("submit",function(e){e.preventDefault(),s();var t=e.target.querySelector('[name="username"]').value,r=(e.target.querySelector('[name="email"]').value,e.target.querySelector('[name="first"]').value,e.target.querySelector('[name="last"]').value,e.target.querySelector('[name="di_register"]').value,e.target.dataset.url),a=new URLSearchParams(new FormData(e.target));e.target.querySelector('[name="submit"]').innerHTML="Processing...",e.target.querySelector('[name="submit"]').disabled=!0,fetch(r,{method:"POST",body:a}).then(function(e){return e.json()}).catch(function(e){o.innerHTML=n.getError("error")}).then(function(e){return 0===e||"error"===e.status?(s(),e.message.forEach(function(e){o.innerHTML+=n.getError(e)+"\n"}),void o.classList.add("error")):(o.innerHTML=e.message,void(window.location=c+"member-login/?registered="+t))})})};r.lostPasswordForm=function(){var e=document.getElementById("di-lost-password-form"),a=document.querySelector(".auth-info"),o=new l.Error;e.addEventListener("submit",function(e){e.preventDefault(),i();e.target.querySelector('[name="email"]').value,e.target.querySelector('[name="di_lost_password"]').value;var t=e.target.dataset.url,r=new URLSearchParams(new FormData(e.target));e.target.querySelector('[name="submit"]').innerHTML="Processing...",e.target.querySelector('[name="submit"]').disabled=!0,fetch(t,{method:"POST",body:r}).then(function(e){return e.json()}).catch(function(e){a.innerHTML=o.getError("error")}).then(function(e){return console.log(e),0===e||"error"===e.status?(i(),e.message.forEach(function(e){a.innerHTML+=o.getError(e)+"\n"}),void a.classList.add("error")):(a.innerHTML=e.message,void(window.location=c+"member-login/?checkmail=confirm"))})})};r.resetPasswordForm=function(){var e=document.getElementById("di-reset-password-form"),a=document.querySelector(".auth-info"),o=new l.Error,r=document.querySelector('[name="pass1"]'),t=document.querySelector('[name="pass2"]'),n=document.querySelector('[name="submit"]'),s=document.querySelector("button.visible");n.disabled=!0;var i=[];e.addEventListener("submit",function(e){e.preventDefault(),u();e.target.querySelector('[name="pass1"]').value,e.target.querySelector('[name="pass2"]').value,e.target.querySelector('[name="rp_key"]').value,e.target.querySelector('[name="rp_login"]').value,e.target.querySelector('[name="di_reset_password"]').value;var t=e.target.dataset.url,r=new URLSearchParams(new FormData(e.target));e.target.querySelector('[name="submit"]').innerHTML="Processing...",e.target.querySelector('[name="submit"]').disabled=!0,fetch(t,{method:"POST",body:r}).then(function(e){return e.json()}).catch(function(e){a.innerHTML=o.getError("error")}).then(function(e){return console.log(e),0===e||"error"===e.status?(u(),e.message.forEach(function(e){a.innerHTML+=o.getError(e)+"\n"}),void a.classList.add("error")):(a.innerHTML=e.message,void(window.location=c+"member-login/?password=changed"))})}),r.addEventListener("keyup",function(e){d(r,i)}),t.addEventListener("keyup",function(e){m(r,t,i)}),s.addEventListener("click",function(e){e.preventDefault();var t=document.querySelector("svg.visible"),e=document.querySelector("svg.non-visible");t.classList.toggle("hide"),e.classList.toggle("hide"),t.classList.contains("hide")?r.type="password":r.type="text"})};var r=window.location,c=r.protocol+"//"+r.host+"/",n=function(){var e=document.getElementById("di-login-form");document.querySelector(".auth-info").innerHTML="",e.querySelector('[name="submit"]').innerHTML="Sign In",e.querySelector('[name="submit"]').disabled=!1},s=function(){var e=document.getElementById("di-register-form");document.querySelector(".auth-info").innerHTML="",e.querySelector('[name="submit"]').innerHTML="Register",e.querySelector('[name="submit"]').disabled=!1},i=function(){var e=document.getElementById("di-lost-password-form");document.querySelector(".auth-info").innerHTML="",e.querySelector('[name="submit"]').innerHTML="Reset Password",e.querySelector('[name="submit"]').disabled=!1},u=function(){var e=document.getElementById("di-reset-password-form");document.querySelector(".auth-info").innerHTML="",e.querySelector('[name="submit"]').innerHTML="Reset Password",e.querySelector('[name="submit"]').disabled=!1},d=function(e,t){var t=zxcvbn(e.value,t),r=document.querySelector("#password-strength");if(e.classList.remove("bad","weak","warning","strong"),r.classList.remove("bad","weak","warning","strong"),""===e.value)return r.style.display="none",r.innerHTML="",t;switch(t.score){case 1:e.classList.add("bad"),r.classList.add("bad"),r.innerHTML="Unacceptable",r.style.display="block";break;case 2:e.classList.add("weak"),r.classList.add("weak"),r.innerHTML="Weak",r.style.display="block";break;case 3:e.classList.add("warning"),r.classList.add("warning"),r.innerHTML="Acceptable",r.style.display="block";break;case 4:e.classList.add("strong"),r.classList.add("strong"),r.innerHTML="Strong",r.style.display="block";break;default:e.classList.add("bad"),r.classList.add("bad"),r.innerHTML="Unacceptable",r.style.display="block"}return t},m=function(e,t,r){var r=zxcvbn(t.value,r),a=document.querySelector('[name="submit"]');if(t.classList.remove("bad","weak","warning","strong"),e.value!==t.value)return t.classList.add("bad"),a.disabled=!0,r;if(""===t.value)return r;switch(r.score){case 1:t.classList.add("bad"),a.disabled=!0;break;case 2:t.classList.add("weak"),a.disabled=!1;break;case 3:t.classList.add("warning"),a.disabled=!1;break;case 4:t.classList.add("strong"),a.disabled=!1;break;default:t.classList.add("bad"),a.disabled=!0}return r}},{"./errorMessages":4,"./modal":6}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e("./formElements"),n=e("./modal");function s(){document.querySelectorAll("[data-error]").forEach(function(e){return e.classList.remove("error")}),document.querySelector(".js-form-submission").classList.remove("show"),(0,n.closeModal)()}e=function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search).get("r"),r=document.querySelector("#di-contact-form"),a=document.querySelectorAll("[required]"),e=document.querySelectorAll("[data-custom]");!function(e){var t=document.querySelectorAll("[data-custom]")[0];switch(e){case"general":t.value="General Inquiry";break;case"quote":t.value="Get Quote";break;case"network":t.value="Network Setup";break;case"diagnostic":t.value="Computer Diagnostic";break;case"upgrade":t.value="Computer Upgrades";break;case"backup":t.value="File Backup & Migration";break;case"optimize":t.value="Virus Scan / Cleanup";break;case"new":t.value="New Website";break;case"existing":t.value="Existing Website";break;case"logo":t.value="Logo Design";break;case"bc":t.value="Business Cards";break;case"uiux":t.value="UI/UX Design";break;case"win11":t.value="Windows 11 Upgrade";break;default:t.value=""}}(t),e.forEach(function(e){new o.Select(e)}),a.forEach(function(e){e.required=!1}),document.querySelectorAll("[data-error]").forEach(function(e){e.addEventListener("click",function(){this.classList.remove("error")})}),r.addEventListener("submit",function(t){t.preventDefault(),t.target.querySelector('button[type="submit"]').disabled=!0,s();var e={subject:t.target.querySelector('[name="subject"]').value,first:t.target.querySelector('[name="first"]').value,last:t.target.querySelector('[name="last"]').value,company:t.target.querySelector('[name="company"]').value,email:t.target.querySelector('[name="email"]').value,phone:t.target.querySelector('[name="phone"]').value,message:t.target.querySelector('[name="message"]').value,nonce:t.target.querySelector('[name="nonce"]').value},r=!1;if(e.subject||(t.target.querySelector('[data-error="subject"]').classList.add("error"),r=!0),e.first||(t.target.querySelector('[data-error="first"]').classList.add("error"),r=!0),e.last||(t.target.querySelector('[data-error="last"]').classList.add("error"),r=!0),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.email).toLowerCase())||(t.target.querySelector('[data-error="email"]').classList.add("error"),r=!0),e.phone||(t.target.querySelector('[data-error="phone"]').classList.add("error"),r=!0),e.message||(t.target.querySelector('[data-error="message"]').classList.add("error"),r=!0),r)return(0,n.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1);e=t.target.dataset.url,r={method:"POST",body:new URLSearchParams(new FormData(t.target))};t.target.querySelector(".js-form-submission").classList.add("show"),fetch(e,r).then(function(e){return e.json()}).catch(function(e){s(),(0,n.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),t.target.querySelector('button[type="submit"]').disabled=!1}).then(function(e){return s(),0===e||"error"===e.status?((0,n.showModal)("error","Error!","There was a problem with the Contact Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1)):((0,n.showModal)("success","Success!","Message Successfully submitted, thank you! We will be in contact with you shortly."),t.target.querySelector('button[type="submit"]').disabled=!1,t.target.querySelector(".di-select-container > .di-select-value").innerText="Select a reason...",t.target.querySelector(".di-select-container > .di-select-value").classList.add("placeholder"),void t.target.reset())})})};r.default=e},{"./formElements":5,"./modal":6}],4:[function(e,t,r){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Error=void 0;var a=window.location,n=a.protocol+"//"+a.host+"/";r.Error=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors=[{code:"captcha",message:"The Google reCAPTCHA check failed. Are you a robot?"},{code:"closed",message:"Registering new users is currently not allowed."},{code:"email",message:"The email address you entered is not valid."},{code:"email_exists",message:"An account already exists with this email address."},{code:"empty_combo",message:"You must provide a username and password."},{code:"empty_password",message:"You need to enter your username to continue."},{code:"error",message:"There is currently an unknown error. Please try again later."},{code:"expiredkey",message:"The password reset link you used is no longer valid."},{code:"invalidkey",message:"The password reset link you used is no longer valid."},{code:"invalid_email",message:"There are no users registered with this email address."},{code:"invalid_combo",message:"There are no users registered with this email address."},{code:"invalid_login",message:"Incorrect username and/or password."},{code:"invalid_request",message:"You must provide a password with matching confirmation."},{code:"invalid_username",message:"We don't have any users with that username."},{code:"incorrect_password",message:'The password you entered was invalid. <a href="'.concat(n+"member-password-lost/",'">Did you forget your password?</a>')},{code:"password_reset_empty",message:"You need to enter a password to continue."},{code:"password_reset_mismatch",message:"The two passwords you entered don't match."},{code:"retrieve_password_email_failure",message:"The email could not be sent. Your site may not be correctly configured to send emails."},{code:"username",message:"The username you entered is not valid."},{code:"username_exists",message:"An account already exists with this username."}]}var t,r,a;return t=e,(r=[{key:"getError",value:function(t){return this.errors.find(function(e){return e.code===t}).message}}])&&o(t.prototype,r),a&&o(t,a),e}()},{}],5:[function(e,t,r){"use strict";function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Select=void 0;var s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.options=o(e.querySelectorAll("option")).map(function(e){return{value:e.value,label:e.label,selected:e.selected,element:e}}),this.customElement=document.createElement("div"),this.labelElement=document.createElement("span"),this.optionsCustomElement=document.createElement("ul"),function(a){a.customElement.classList.add("di-select-container"),a.customElement.tabIndex=0,a.labelElement.classList.add("di-select-value"),a.labelElement.innerText=a.selectedOption.label,""===a.selectedOption.value&&a.labelElement.classList.add("placeholder");var o;a.customElement.append(a.labelElement),a.optionsCustomElement.classList.add("di-select-options"),a.options.forEach(function(e){var t=document.createElement("li");t.classList.add("di-select-option"),""===e.value&&t.classList.add("hidden"),t.classList.toggle("selected",e.selected),t.innerText=e.label,t.dataset.value=e.value,t.addEventListener("click",function(){a.selectValue(e.value),a.labelElement.classList.remove("placeholder"),a.optionsCustomElement.classList.remove("show")}),a.optionsCustomElement.append(t)}),a.customElement.append(a.optionsCustomElement),a.labelElement.addEventListener("click",function(){a.optionsCustomElement.classList.toggle("show")}),a.customElement.addEventListener("blur",function(){a.optionsCustomElement.classList.remove("show")});var n="";a.customElement.addEventListener("keydown",function(e){switch(e.code){case"Space":a.optionsCustomElement.classList.toggle("show");break;case"ArrowUp":var t=a.options[a.selectedOptionIndex-1];t&&(a.selectValue(t.value),a.labelElement.classList.remove("placeholder"));break;case"ArrowDown":var r=a.options[a.selectedOptionIndex+1];r&&(a.selectValue(r.value),a.labelElement.classList.remove("placeholder"));break;case"Enter":case"Escape":a.optionsCustomElement.classList.remove("show");break;default:clearTimeout(o),n+=e.key,o=setTimeout(function(){n=""},500);r=a.options.find(function(e){return e.label.toLowerCase().startsWith(n)});r&&(a.selectValue(r.value),a.labelElement.classList.remove("placeholder"))}})}(this),e.after(this.customElement)}var e,r,a;return e=t,(r=[{key:"selectedOption",get:function(){return this.options.find(function(e){return e.selected})}},{key:"selectedOptionIndex",get:function(){return this.options.indexOf(this.selectedOption)}},{key:"selectValue",value:function(t){var e,r;""!==t&&(r=this.options.find(function(e){return e.value===t}),(e=this.selectedOption).selected=!1,e.element.selected=!1,r.selected=!0,r.element.selected=!0,this.labelElement.innerText=r.label,this.optionsCustomElement.querySelector('[data-value="'.concat(e.value,'"]')).classList.remove("selected"),(r=this.optionsCustomElement.querySelector('[data-value="'.concat(r.value,'"]'))).classList.add("selected"),r.scrollIntoView({block:"nearest"}))}}])&&n(e.prototype,r),a&&n(e,a),t}();r.Select=s},{}],6:[function(e,t,r){"use strict";function n(){var e=document.querySelector(".modal"),t=document.querySelector(".modal-content");e.classList.contains("show")&&e.classList.remove("show"),e.classList.contains("error")&&e.classList.remove("error"),e.classList.contains("success")&&e.classList.remove("success"),e.classList.contains("warning")&&e.classList.remove("warning"),e.querySelector("h3").innerText="",e.querySelector("main").innerText="",t.removeEventListener("keydown",s),t.blur()}function s(e){switch(e.code){case"Enter":return n(),!0;case"Escape":return n(),!1;default:return}}Object.defineProperty(r,"__esModule",{value:!0}),r.closeModal=n,r.modal=function(){var e=document.querySelector(".modal > .modal-content"),t=document.querySelector(".modal > .modal-content > .btn-submit"),r=document.querySelector(".modal > .modal-content > .btn-cancel"),a=document.querySelector(".modal > .modal-content > .close");e.tabIndex=-1,t.addEventListener("click",function(){return n(),!0}),r.addEventListener("click",function(){return n(),!1}),a.addEventListener("click",function(){return n(),!1})},r.showModal=function(e,t,r){var a=document.querySelector(".modal"),o=document.querySelector(".modal-content");a.querySelector("h3").innerText="".concat(t),a.querySelector("main").innerText="".concat(r),a.classList.add("".concat(e)),a.classList.add("show"),o.focus(),o.addEventListener("keydown",s),o.addEventListener("blur",function(){return n(),!1})}},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=e("./modal");function o(){document.querySelectorAll("[data-error]").forEach(function(e){return e.classList.remove("error")}),document.querySelector(".js-form-submission").classList.remove("show"),(0,a.closeModal)()}r.default=function(){var e=document.querySelector("#di-testimonial-form");document.querySelectorAll("[required]").forEach(function(e){e.required=!1}),document.querySelectorAll("[data-error]").forEach(function(e){e.addEventListener("click",function(){this.classList.remove("error")})}),e.addEventListener("submit",function(t){t.preventDefault(),t.target.querySelector('button[type="submit"]').disabled=!0,o();var e={name:t.target.querySelector('[name="name"]').value,company:t.target.querySelector('[name="company"]').value,email:t.target.querySelector('[name="email"]').value,message:t.target.querySelector('[name="message"]').value,nonce:t.target.querySelector('[name="nonce"]').value},r=!1;if(e.name||(t.target.querySelector('[data-error="name"]').classList.add("error"),r=!0),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.email).toLowerCase())||(t.target.querySelector('[data-error="email"]').classList.add("error"),r=!0),e.message||(t.target.querySelector('[data-error="message"]').classList.add("error"),r=!0),r)return(0,a.showModal)("error","Error!","There was a problem with the Testimonial Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1);e=t.target.dataset.url,r={method:"POST",body:new URLSearchParams(new FormData(t.target))};t.target.querySelector(".js-form-submission").classList.add("show"),fetch(e,r).then(function(e){return e.json()}).catch(function(e){o(),(0,a.showModal)("error","Error!","There was a problem with the Testimonial Form, please try again!"),t.target.querySelector('button[type="submit"]').disabled=!1}).then(function(e){return o(),0===e||"error"===e.status?((0,a.showModal)("error","Error!","There was a problem with the Testimonial Form, please try again!"),void(t.target.querySelector('button[type="submit"]').disabled=!1)):((0,a.showModal)("success","Success!","Message Successfully submitted, thank you! We appreciate your feedback."),t.target.querySelector('button[type="submit"]').disabled=!1,void t.target.reset())})})}},{"./modal":6}]},{},[1]);
//# sourceMappingURL=di-theme-forms.min.js.map
